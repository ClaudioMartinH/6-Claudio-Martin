generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model Player {
  id            Int           @id @default(autoincrement())
  name          String        @unique
  register_date DateTime      @default(now())
  password      String
  playerGames   PlayerGame[]
}

model Game {
  id            Int           @id @default(autoincrement())
  played_at     DateTime      @default(now())
  playerGames   PlayerGame[]
}

model PlayerGame {
  id            Int           @id @default(autoincrement())
  playerId      Int
  gameId        Int
  dice1_result  Int
  dice2_result  Int
  overall_result String
  player        Player        @relation(fields: [playerId], references: [id])
  game          Game          @relation(fields: [gameId], references: [id])

  @@unique([playerId, gameId])
}

// generator client {
//   provider = "prisma-client-js"
// }

// datasource db {
//   provider = "mysql"
//   url      = env("DATABASE_URL")
// }

// model Player {
//   id Int @id @default(autoincrement())
//   name String @unique
//   register_date DateTime @default(now())
//   games Game[]
//   password String

// }

// model Game {
//   id            Int     @id @default(autoincrement())
//   playerId      Int
//   player        Player  @relation(fields: [playerId], references: [id])
//   dice1_result  Int
//   dice2_result  Int
//   overall_result String
//   played_at     DateTime @default(now())
// }